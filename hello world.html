<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=1080, height=1920, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />
    <title>Video Presentation</title>

    <link rel="stylesheet" href="dist/reveal.css" />
    <link rel="stylesheet" href="dist/theme/league.css" />
  </head>
  <body>
    <div class="reveal">
      <div class="slides">
        <section data-background-image="abandoned-factory.jpg">
          <h1 class="r-fit-text">
            <span class="fragment" data-autoslide="400"
              >Presentation slide 1
            </span>
          </h1>
        </section>
        <section data-background-image="abandoned-warehouse.jpg">
          <h1 class="r-fit-text">
            <span class="fragment" data-autoslide="400"
              >Presentation slide 2</span
            >
          </h1>
        </section>
        <section data-background-image="abandoned-factory.jpg">
          <h1 class="r-fit-text">
            <span class="fragment" data-autoslide="400"
              >Presentation slide 3
            </span>
          </h1>
        </section>
        <section data-background-image="abandoned-warehouse.jpg">
          <h1 class="r-fit-text">
            <span class="fragment" data-autoslide="400"
              >Presentation slide 4</span
            >
          </h1>
        </section>
        <section data-background-image="abandoned-factory.jpg">
          <h1 class="r-fit-text">
            <span class="fragment" data-autoslide="400"
              >Presentation slide 5
            </span>
          </h1>
        </section>
        <section data-background-image="abandoned-warehouse.jpg">
          <h1 class="r-fit-text">
            <span class="fragment" data-autoslide="400"
              >Presentation slide 6</span
            >
          </h1>
        </section>
        <section data-background-image="abandoned-factory.jpg">
          <h1 class="r-fit-text">
            <span class="fragment" data-autoslide="400"
              >Presentation slide 7
            </span>
          </h1>
        </section>
        <section data-background-image="abandoned-warehouse.jpg">
          <h1 class="r-fit-text">
            <span class="fragment" data-autoslide="400"
              >Presentation slide 8</span
            >
          </h1>
        </section>
      </div>
    </div>
    <script src="dist/reveal.js"></script>
    <script>
      function bindEvent(element, eventName, eventHandler) {
        if (element.addEventListener) {
          element.addEventListener(eventName, eventHandler, false);
        } else if (element.attachEvent) {
          element.attachEvent("on" + eventName, eventHandler);
        }
      }

      var sendMessage = function (msg) {
        window.parent.postMessage(msg, "*");
      };

      bindEvent(window, "message", function (e) {
        var msg = e.data;
        if (msg == "animationStart") {
          animationStart();
        }
      });
      sendMessage("documentIsReady");

      function animationStart() {
        var audio = new Audio("helloworld.ogg");
        Reveal.initialize({
          transition: "fade",
          autoSlide: 1,
        });
        audio.play();

        var totalSlides = Reveal.getTotalSlides();
        var finishedSlides = 0;
        Reveal.addEventListener("slidechanged", function (event) {
          finishedSlides++;

          if (finishedSlides === totalSlides - 1) {
            sendMessage("animationEnded");
          }
        });
      }
    </script>
  </body>
</html>
